(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6662e11e"],{"65a2":function(t,e,r){},"80f5":function(t,e,r){"use strict";r("65a2")},b0bd:function(t,e,r){"use strict";function s(t,e){var r={deviceType:7,deviceId:null,parentNo:null,phoneNo:null,commandId:t,ipAddress:null,macAddress:null,data:e};return r}r.d(e,"a",(function(){return s}))},dc14:function(t,e,r){"use strict";r.d(e,"a",(function(){return n})),r.d(e,"b",(function(){return i}));var s=r("70f0"),a=r("b0bd");function n(t,e,r){var n={currentPage:t,pageSize:e,stepMasterType:r};return Object(s["a"])({url:"/business/custom",method:"post",data:Object(a["a"])("req-list-step-master",n)})}function i(t,e){var r={updateType:0,totalLength:t.length,list:t},n={responseList:r,stepMasterType:e};return Object(s["a"])({url:"/business/custom",method:"post",data:Object(a["a"])("req-update-step-master",n)})}},ecc4:function(t,e,r){"use strict";r.r(e);var s=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"app-container"},[r("div",{staticClass:"cardTitle"},[r("span",[t._v("增援主机设置")]),r("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"success",plain:""},on:{click:t.handleAddStepMaster}},[t._v("添加增援主机")]),r("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary",plain:""},on:{click:t.handleSubmit}},[t._v("保存设置")])],1),r("el-row",t._l(t.stepMasters,(function(e,s){return r("el-col",{key:s,staticClass:"reinforceMasterItem",attrs:{span:2}},[r("span",[t._v("增援主机编号：")]),r("el-input",{class:e.border,staticStyle:{width:"80px"},attrs:{type:"number",max:"1000",min:"100"},on:{blur:function(r){return t.checkNumber(e,s)}},model:{value:e.masterNo,callback:function(r){t.$set(e,"masterNo",r)},expression:"stepMaster.masterNo"}}),r("el-button",{staticStyle:{float:"right"},attrs:{type:"danger",icon:"el-icon-delete",circle:""},on:{click:function(e){return t.handleDelete(s)}}})],1)})),1)],1)},a=[],n=(r("d3b7"),r("159b"),r("a434"),r("dc14")),i=3,o={name:"appendMaster",data:function(){return{masterSelf:"",queryParams:{pageNum:1,pageSize:100},orgStepMasterList:[],stepMasters:[]}},created:function(){this.getList()},methods:{getList:function(){var t=this;Object(n["a"])(this.queryParams.pageNum,this.queryParams.pageSize,null).then((function(e){200===e.code&&(t.masterSelf=e.data.masterNo,t.orgStepMasterList=e.data.list,t.orgStepMasterList&&t.orgStepMasterList.forEach((function(e){e.masterType===i&&(e.border="normalBorder",t.stepMasters.push(e))})))}))},checkNumber:function(t,e){var r="";isNaN(t.masterNo)||(r=parseInt(t.masterNo),r=r<=100?100:r,r=r>=1e3?999:r),t.masterNo=r},preCheck:function(){if(this.orgStepMasterList)for(var t in this.stepMasters){var e=this.stepMasters[t];if(!e.masterNo)return this.msgError("增援主机编号不能为空"),e.border="alarmBorder",!1;if(parseInt(e.masterNo)===parseInt(this.masterSelf))return this.msgError("增援主机不能是本机"),e.border="alarmBorder",!1;for(var r in this.stepMasters){var s=this.stepMasters[r];if(r!=t&&s.masterType===i&&parseInt(s.masterNo)===parseInt(e.masterNo))return this.msgError("主机编号已存在"),e.border="alarmBorder",!1}e.border="normalBorder"}return!0},handleSubmit:function(){var t=this;this.preCheck()?(this.$forceUpdate(),Object(n["b"])(this.stepMasters,i).then((function(e){200===e.code?t.msgSuccess("增援主机设置成功"):t.msgError("增援主机设置失败")}))):this.$forceUpdate()},handleAddStepMaster:function(){var t={masterType:i,masterNo:"",callWaitTime:30,masterLevel:0};this.stepMasters.push(t)},handleDelete:function(t){this.stepMasters.splice(t,1)}}},c=o,u=(r("80f5"),r("2877")),l=Object(u["a"])(c,s,a,!1,null,null,null);e["default"]=l.exports}}]);
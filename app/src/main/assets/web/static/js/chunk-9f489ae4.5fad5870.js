(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9f489ae4"],{"084b":function(e,t,n){},"0ba9":function(e,t,n){},"2a70":function(e,t,n){"use strict";n("cc40")},"45c5":function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"text item"},[e._v(" 系统当前时间："+e._s(e.deviceCurrentTime?e.timeFormater(parseInt(e.deviceCurrentTime)):"")+" ")])},a=[],s=(n("a9e3"),n("9ee1")),r={name:"CurrentTime",props:{startTime:{type:Number,default:null},hour24:{type:Boolean,default:!0}},data:function(){return{deviceCurrentTime:null}},created:function(){this.initTimeInterval()},methods:{initTimeInterval:function(){var e=this;this.timeInterval||(this.timeInterval=setInterval((function(){e.deviceCurrentTime?e.deviceCurrentTime=parseInt(e.deviceCurrentTime)+1e3:e.deviceCurrentTime=e.startTime}),1e3))},timeFormater:function(e){var t=new Date(e);return Object(s["e"])("yyyy-MM-dd HH:mm:ss",t,this.hour24)}}},o=r,l=(n("2a70"),n("2877")),u=Object(l["a"])(o,i,a,!1,null,null,null);t["a"]=u.exports},"45d6":function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return r})),n.d(t,"d",(function(){return o})),n.d(t,"e",(function(){return l})),n.d(t,"f",(function(){return u})),n.d(t,"a",(function(){return c}));var i=n("70f0"),a=n("5831");function s(){var e={commandId:"maintain-req-device-base-info"};return Object(i["a"])({url:"/maintain/custom",method:"post",data:e})}function r(){var e={commandId:"maintain-req-net-config"};return Object(i["a"])({url:"/maintain/custom",method:"post",data:e})}function o(){var e={commandId:"maintain-req-time-config"};return Object(i["a"])({url:"/maintain/custom",method:"post",data:e})}function l(e){var t={commandId:"maintain-req-update-ip-address",data:e};return Object(a["a"])({url:"/maintain/custom",method:"post",data:t})}function u(e){var t={commandId:"maintain-req-update-time",data:e};return Object(a["a"])({url:"/maintain/custom",method:"post",data:t})}function c(){var e={commandId:"maintain-req-screen-capture",data:{}};return Object(a["a"])({url:"/maintain/custom",method:"post",data:e})}},5831:function(e,t,n){"use strict";var i=n("53ca"),a=(n("fb6a"),n("e9c4"),n("d3b7"),n("caad"),n("2532"),n("bc3a")),s=n.n(a),r=n("5c96"),o=n("3048"),l=n("1bb3"),u=n("e6f3"),c=n("9ee1"),d=n("1908"),m={show:!1};s.a.defaults.headers["Content-Type"]="application/json;charset=utf-8";var f=s.a.create({baseURL:"",timeout:1e4});f.interceptors.request.use((function(e){var t=!1===(e.headers||{}).isToken,n=!1===(e.headers||{}).repeatSubmit;if(Object(l["a"])()&&!t&&(e.headers["Authorization"]="Bearer "+Object(l["a"])()),"get"===e.method&&e.params){var a=e.url+"?"+Object(c["k"])(e.params);a=a.slice(0,-1),e.params={},e.url=a}if(!n&&("post"===e.method||"put"===e.method)){var s={url:e.url,data:"object"===Object(i["a"])(e.data)?JSON.stringify(e.data):e.data,time:(new Date).getTime()},r=d["a"].session.getJSON("sessionObj");if(void 0===r||null===r||""===r)d["a"].session.setJSON("sessionObj",s);else{var o=r.url,u=r.data,m=r.time,f=1e3;if(u===s.data&&s.time-m<f&&o===s.url){var p="数据正在处理，请勿重复提交";return console.warn("[".concat(o,"]: ")+p),Promise.reject(new Error(p))}d["a"].session.setJSON("sessionObj",s)}}return e}),(function(e){console.log(e),Promise.reject(e)})),f.interceptors.response.use((function(e){var t=e.data.code||200,n=u["a"][t]||e.data.msg||u["a"]["default"];return"blob"===e.request.responseType||"arraybuffer"===e.request.responseType?e.data:401===t?(m.show||(m.show=!0,r["MessageBox"].confirm("登录状态已过期，您可以继续留在该页面，或者重新登录","系统提示",{confirmButtonText:"重新登录",cancelButtonText:"取消",type:"warning"}).then((function(){m.show=!1,o["a"].dispatch("LogOut").then((function(){location.href="/index"}))})).catch((function(){m.show=!1}))),Promise.reject("无效的会话，或者会话已过期，请重新登录。")):500===t?(Object(r["Message"])({message:n,type:"error"}),Promise.reject(new Error(n))):200!==t?(r["Notification"].error({title:n}),Promise.reject("error")):e.data}),(function(e){console.log("err"+e);var t={},n=e.message;return"Network Error"==n?(n="后端接口连接异常",t.code=500):n.includes("timeout")?(n="系统接口请求超时",t.code=500):n.includes("Request failed with status code")&&(e.response&&e.response.data&&!e.response.data.msg?(n=e.response.data.msg,t.code=500):(n="系统接口"+n.substr(n.length-3)+"异常",t.code=e.response.status)),t.message=n,t})),t["a"]=f},6045:function(e,t,n){"use strict";n("0ba9")},"661d":function(e,t,n){},"66f0":function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-card",{staticClass:"box-card-device-base"},[n("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[n("span",{staticClass:"card-title"},[e._v(e._s(e.cardName))])]),n("div",{staticClass:"text item"},[e._v("产品名称："+e._s(e.deviceBaseInfo.productName))]),n("div",{staticClass:"text item"},[e._v("产品型号："+e._s(e.deviceBaseInfo.module))]),n("div",{staticClass:"text item"},[e._v("序列号："+e._s(e.deviceBaseInfo.deviceId))]),n("div",{staticClass:"text item"},[e._v("系统版本号："+e._s(e.deviceBaseInfo.systemVersion))]),n("div",{staticClass:"text item"},[e._v("产品型号："+e._s(e.deviceBaseInfo.module))]),n("div",{staticClass:"text item"},[e._v("内核版本号："+e._s(e.deviceBaseInfo.kernelVersion))]),n("div",{staticClass:"text item"},[e._v(" 应用运行时间："+e._s(e.appRunTime?e.runtimeFormater(parseInt(e.appRunTime)):"")+" ")]),n("div",{staticClass:"text item"},[e._v(" 系统运行时间："+e._s(e.sysRunTime?e.runtimeFormater(parseInt(e.sysRunTime)):"")+" ")]),n("current-time",{attrs:{startTime:e.deviceCurrentTime?parseInt(e.deviceCurrentTime):null,hour24:e.deviceBaseInfo.timeConfig.hour24}})],1)},a=[],s=(n("b65f"),n("45d6")),r=n("45c5"),o=864e5,l=36e5,u=6e4,c=1e3,d={name:"DeviceBaseInfo",components:{CurrentTime:r["a"]},props:{cardName:{type:String,default:"设备信息"},autoLoad:{type:Boolean,default:!1}},data:function(){return{deviceBaseInfo:{deviceId:"",systemVersion:"",module:"",kernelVersion:"",timeConfig:{unixTime:null,hour24:!0}},timeInterval:null,sysRunTime:null,appRunTime:null,deviceCurrentTime:null}},watch:{autoLoad:function(e){e&&this.getInfo()}},created:function(){this.getInfo(),this.initTimeInterval()},methods:{getInfo:function(){var e=this;Object(s["b"])().then((function(t){console.log(t),200===t.code?(e.deviceBaseInfo=t.data,e.deviceCurrentTime=e.deviceBaseInfo.timeConfig.unixTime):e.msgError(t.msg)}))},initTimeInterval:function(){var e=this;this.timeInterval||(this.timeInterval=setInterval((function(){e.sysRunTime?e.sysRunTime=parseInt(e.sysRunTime)+c:e.sysRunTime=e.deviceBaseInfo.systemRunTime,e.appRunTime?e.appRunTime=parseInt(e.appRunTime)+c:e.appRunTime=e.deviceBaseInfo.appRunTime}),c))},runtimeFormater:function(e){var t="";return e>o&&(t+=Math.trunc(e/o)+"天",e%=o),e>l&&(t+=Math.trunc(e/l)+"小时",e%=l),e>u&&(t+=Math.trunc(e/u)+"分钟",e%=u),t+=Math.trunc(e/c)+"秒",t}}},m=d,f=(n("6045"),n("2877")),p=Object(f["a"])(m,i,a,!1,null,null,null);t["a"]=p.exports},"7ef5":function(e,t,n){"use strict";n("084b")},b38c:function(e,t,n){"use strict";n("db04")},b545:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("el-card",{staticClass:"box-card-time"},[n("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[n("span",{staticClass:"card-title"},[e._v(e._s(e.cardName))]),e.readOnly?e._e():n("el-button",{staticStyle:{float:"right",padding:"3px 0"},attrs:{type:"text"},on:{click:function(t){return e.doSubmit(!1)}}},[e._v("修改")]),e.readOnly||e.timeConfig.enableNtp?e._e():n("el-button",{staticStyle:{float:"right",padding:"3px 0","margin-right":"12px"},attrs:{type:"text"},on:{click:function(t){return e.doSubmit(!0)}}},[e._v("与本机同步时间")])],1),n("current-time",{attrs:{startTime:e.deviceCurrentTime?parseInt(e.deviceCurrentTime):null,hour24:e.timeConfig.hour24}}),n("div",{staticClass:"text item"},[e._v(" 是否24小时制： "),n("el-radio-group",{model:{value:e.timeConfig.hour24,callback:function(t){e.$set(e.timeConfig,"hour24",t)},expression:"timeConfig.hour24"}},e._l(e.hour24Options,(function(t){return n("el-radio",{key:t.value,attrs:{label:t.value,disabled:e.readOnly}},[e._v(e._s(t.label))])})),1)],1),n("div",{staticClass:"text item"},[e._v(" 是否自动获取时区： "),n("el-radio-group",{model:{value:e.timeConfig.autoTimeZone,callback:function(t){e.$set(e.timeConfig,"autoTimeZone",t)},expression:"timeConfig.autoTimeZone"}},e._l(e.autoTimeZoneOptions,(function(t){return n("el-radio",{key:t.value,attrs:{label:t.value,disabled:e.readOnly}},[e._v(e._s(t.label))])})),1)],1),n("div",{staticClass:"text item"},[e._v(" 当前时区： "),n("el-select",{attrs:{placeholder:"请选择",disabled:e.timeConfig.autoTimeZone||e.readOnly},model:{value:e.timeConfig.timeZoneId,callback:function(t){e.$set(e.timeConfig,"timeZoneId",t)},expression:"timeConfig.timeZoneId"}},e._l(e.timeZoneOptions,(function(e){return n("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),n("div",{staticClass:"text item"},[e._v(" 是否启用NTP服务器： "),n("el-radio-group",{model:{value:e.timeConfig.enableNtp,callback:function(t){e.$set(e.timeConfig,"enableNtp",t)},expression:"timeConfig.enableNtp"}},e._l(e.ntpOptions,(function(t){return n("el-radio",{key:t.value,attrs:{label:t.value,disabled:e.readOnly}},[e._v(e._s(t.label))])})),1)],1),e.timeConfig.enableNtp?n("div",{staticClass:"text item"},[e._v(" NTP服务器地址："),n("el-input",{staticStyle:{width:"180px"},attrs:{disabled:!e.timeConfig.enableNtp||e.readOnly,placeholder:"NTP服务器地址"},model:{value:e.timeConfig.ntpServer,callback:function(t){e.$set(e.timeConfig,"ntpServer",t)},expression:"timeConfig.ntpServer"}})],1):e._e()],1)],1)},a=[],s=n("45d6"),r=n("45c5"),o={name:"TimeInfo",components:{CurrentTime:r["a"]},props:{cardName:{type:String,default:"时间信息"},readOnly:{type:Boolean,default:!0},autoLoad:{type:Boolean,default:!1}},data:function(){return{timeConfig:{enableNtp:!0,ntpServer:"",unixTime:null,hour24:!0,timeZoneName:null,timeZoneId:null},ntpOptions:[{value:!1,label:"停用"},{value:!0,label:"启用"}],hour24Options:[{value:!1,label:"12小时制"},{value:!0,label:"24小时制"}],autoTimeZoneOptions:[{value:!1,label:"手动设置时区"},{value:!0,label:"自动获取时区"}],timeZoneOptions:[{value:"Asia/Shanghai",label:"中国标准时间"},{value:"Asia/Hong_Kong",label:"中国香港"},{value:"Asia/Taipei",label:"中国台北"}],deviceCurrentTime:null}},watch:{autoLoad:function(e){e&&this.getInfo()}},created:function(){this.getInfo()},methods:{getInfo:function(){var e=this;Object(s["d"])().then((function(t){200===t.code?(e.timeConfig=t.data,e.deviceCurrentTime=e.timeConfig.unixTime):e.msgError(t.msg)}))},doSubmit:function(e){var t=this;if(this.timeConfig.enableNtp||!e)this.timeConfig.unixTime=null;else{var n=new Date;this.timeConfig.unixTime=n.getTime()}this.timeConfig.timeZoneName=null,Object(s["f"])(this.timeConfig).then((function(e){if(t.dialogVisible=!1,200==e.code){if(t.msgSuccess("修改成功"),!t.timeConfig.enableNtp){var n=new Date;t.deviceCurrentTime=n.getTime()}}else t.msgError(e.msg?e.msg:"修改失败")})).catch((function(e){t.dialogVisible=!1}))}}},l=o,u=(n("b38c"),n("2877")),c=Object(u["a"])(l,i,a,!1,null,null,null);t["a"]=c.exports},b65f:function(e,t,n){var i=n("23e7"),a=Math.ceil,s=Math.floor;i({target:"Math",stat:!0},{trunc:function(e){return(e>0?s:a)(e)}})},cc40:function(e,t,n){},daa2:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("el-card",{staticClass:"box-card-network"},[n("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[n("span",{staticClass:"card-title"},[e._v(e._s(e.cardName))]),e.readOnly?e._e():n("el-button",{staticStyle:{float:"right",padding:"3px 0"},attrs:{type:"text"},on:{click:function(t){e.dialogVisible=!0}}},[e._v("修改")])],1),n("div",{staticClass:"text item"},[e._v(" 工作模式： "),n("el-radio-group",{model:{value:e.netConfig.linkMode,callback:function(t){e.$set(e.netConfig,"linkMode",t)},expression:"netConfig.linkMode"}},e._l(e.netTypeOptions,(function(t){return n("el-radio",{key:t.value,attrs:{label:t.value,disabled:e.readOnly}},[e._v(e._s(t.label))])})),1)],1),n("div",{staticClass:"text item"},[e._v(" IP地址："),n("ip-address",{ref:"ipAddress",attrs:{canInput:"2"==e.netConfig.linkMode&&!e.readOnly,ipAddressStr:e.netConfig.ipAddress,onAddressChange:e.changeIpAddress}})],1),n("div",{staticClass:"text item"},[e._v(" 子网掩码："),n("ip-address",{ref:"netMask",attrs:{canInput:"2"==e.netConfig.linkMode&&!e.readOnly,ipAddressStr:e.netConfig.mask,onAddressChange:e.changeNetMask}})],1),n("div",{staticClass:"text item"},[e._v(" 网 关 ："),n("ip-address",{ref:"gateway",attrs:{canInput:"2"==e.netConfig.linkMode&&!e.readOnly,ipAddressStr:e.netConfig.gateway,onAddressChange:e.changeGateway}})],1),n("div",{staticClass:"text item"},[e._v(" DNS ："),n("ip-address",{ref:"gateway",attrs:{canInput:"2"==e.netConfig.linkMode&&!e.readOnly,ipAddressStr:e.netConfig.dns1,onAddressChange:e.changeDns}})],1)]),n("el-dialog",{attrs:{title:"提示",visible:e.dialogVisible,width:"30%",center:""},on:{"update:visible":function(t){e.dialogVisible=t}}},[n("span",[e._v("修改IP地址会自动重启应用，会导短暂的业务中断。")]),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),n("el-button",{attrs:{type:"primary"},on:{click:e.doSubmit}},[e._v("确 定")])],1)])],1)},a=[],s=n("45d6"),r=n("dc27"),o="2",l={name:"NetworkInfo",components:{IpAddress:r["a"]},props:{cardName:{type:String,default:"网络信息"},readOnly:{type:Boolean,default:!0},autoLoad:{type:Boolean,default:!1}},data:function(){return{netConfig:{linkMode:"1",ipAddress:"",mask:""},dialogVisible:!1,netTypeOptions:[{value:"1",label:"DHCP"},{value:"2",label:"手动配置"}]}},watch:{autoLoad:function(e){e&&this.getInfo()}},created:function(){this.getInfo()},methods:{getInfo:function(){var e=this;Object(s["c"])().then((function(t){200===t.code?e.netConfig=t.data:e.msgError(t.msg)}))},changeIpAddress:function(e){this.msgSuccess("IP地址改变 ==> "+e),this.netConfig.ipAddress=e},changeNetMask:function(e){this.msgSuccess("子网掩码改变 ==> "+e),this.netConfig.mask=e},changeGateway:function(e){this.msgSuccess("网关改变 ==> "+e),this.netConfig.gateway=e},changeDns:function(e){this.msgSuccess("DNS改变 ==> "+e),this.netConfig.dns1=e},doSubmit:function(){var e=this;this.netConfig.linkMode==o&&(this.netConfig.ipAddress=this.$refs.ipAddress.convertIPToStr(),this.netConfig.mask=this.$refs.netMask.convertIPToStr(),this.netConfig.gateway=this.$refs.gateway.convertIPToStr()),Object(s["e"])(this.netConfig).then((function(t){e.dialogVisible=!1,200==t.code?(e.$modal.loading("应用重启中，请稍候！"),setTimeout((function(){e.$modal.closeLoading(),window.location.href="http://"+e.netConfig.ipAddress+":8080"}),5e3)):e.msgError(t.msg?t.msg:"修改失败")})).catch((function(t){e.dialogVisible=!1}))}}},u=l,c=(n("f6c4"),n("2877")),d=Object(c["a"])(u,i,a,!1,null,null,null);t["a"]=d.exports},db04:function(e,t,n){},dc27:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",e._l(e.ipAdress,(function(t,i){return n("span",{key:i},[i>0?n("i",{staticClass:"ipDot"},[e._v(".")]):e._e(),n("el-input",{ref:"ipInput",refInFor:!0,staticStyle:{width:"80px"},attrs:{type:"number",id:i,disabled:!e.canInput},on:{input:function(n){return e.checkIpVal(t,i)},blur:function(n){return e.setDefaultVal(t)}},nativeOn:{keyup:function(n){return e.turnIpPOS(t,i,n)}},model:{value:t.value,callback:function(n){e.$set(t,"value",n)},expression:"item.value"}})],1)})),0)},a=[],s=(n("ac1f"),n("1276"),n("498a"),n("d3b7"),n("25f0"),{name:"IpAddress",props:{ipAddressStr:{type:String,default:"0.0.0.0"},canInput:{type:Boolean,default:!0}},data:function(){return{ipAdress:[{value:""},{value:""},{value:""},{value:""}],cursorIndex:0}},created:function(){},watch:{ipAddressStr:function(e,t){t&&"0.0.0.0"!=t||this.convertStrToIP(e)}},methods:{convertStrToIP:function(e){var t=e.split(".");this.ipAdress[0].value=t[0],this.ipAdress[1].value=t[1],this.ipAdress[2].value=t[2],this.ipAdress[3].value=t[3]},convertIPToStr:function(){return this.ipAdress[0].value+"."+this.ipAdress[1].value+"."+this.ipAdress[2].value+"."+this.ipAdress[3].value},checkIpVal:function(e,t){var n=e.value;n=n.trim(),n=parseInt(n,10),isNaN(n)?n="":(n=n<0?0:n,n=n>255?255:n),e.value=n.toString(),this.$emit("onAddressChange",this.convertIPToStr())},turnIpPOS:function(e,t,n){var i=this,a=n||window.event;13!=a.keyCode&&32!=a.keyCode&&190!=a.keyCode||3==t||i.$refs.ipInput[t+1].focus()},setDefaultVal:function(e){var t=e.value;""==t&&(e.value="0")}}}),r=s,o=(n("7ef5"),n("2877")),l=Object(o["a"])(r,i,a,!1,null,"6b81591d",null);t["a"]=l.exports},f6c4:function(e,t,n){"use strict";n("661d")}}]);